\doxysection{nn/network.cpp File Reference}
\hypertarget{network_8cpp}{}\label{network_8cpp}\index{nn/network.cpp@{nn/network.cpp}}
{\ttfamily \#include $<$vector$>$}\newline
{\ttfamily \#include $<$fstream$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include \"{}perceptron.\+cpp\"{}}\newline
{\ttfamily \#include \"{}utility.\+cpp\"{}}\newline
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_n_n}{NN}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classmatrix}{matrix}} \mbox{\hyperlink{network_8cpp_a5192468b43cd5d282c19337d04935386}{calculate\+\_\+error}} (\mbox{\hyperlink{classmatrix}{matrix}} output\+\_\+res, \mbox{\hyperlink{classmatrix}{matrix}} result)
\item 
void \mbox{\hyperlink{network_8cpp_a7280506718a3f756efa65e69f3e6a9a0}{save\+\_\+\+NN}} (\mbox{\hyperlink{class_n_n}{NN}} to\+\_\+save, std\+::string filename)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{network_8cpp_a5192468b43cd5d282c19337d04935386}\label{network_8cpp_a5192468b43cd5d282c19337d04935386} 
\index{network.cpp@{network.cpp}!calculate\_error@{calculate\_error}}
\index{calculate\_error@{calculate\_error}!network.cpp@{network.cpp}}
\doxysubsubsection{\texorpdfstring{calculate\_error()}{calculate\_error()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classmatrix}{matrix}} calculate\+\_\+error (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classmatrix}{matrix}}}]{output\+\_\+res,  }\item[{\mbox{\hyperlink{classmatrix}{matrix}}}]{result }\end{DoxyParamCaption})}

Находит ошибку между значениями векторов. 
\begin{DoxyParams}{Parameters}
{\em output\+\_\+res} & Выходное значение нейронной сети. \\
\hline
{\em result} & Ожидаемое(истинное) значение. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Ошибка. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00014\ \{}
\DoxyCodeLine{00015\ \ \ \ \ \mbox{\hyperlink{classmatrix}{matrix}}\ err;}
\DoxyCodeLine{00016\ \ \ \ \ err.set\_size(1,\ output\_res.get\_size\_y());}
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ result.get\_size\_y();\ ++i)}
\DoxyCodeLine{00018\ \ \ \ \ \{}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ err.set(0,\ i,\ (result.get(0,\ i)\ -\/\ output\_res.get(0,\ i))\ *\ (result.get(0,\ i)\ -\/\ output\_res.get(0,\ i)));}
\DoxyCodeLine{00020\ \ \ \ \ \}}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keywordflow}{return}\ err;}
\DoxyCodeLine{00022\ \}}

\end{DoxyCode}
\Hypertarget{network_8cpp_a7280506718a3f756efa65e69f3e6a9a0}\label{network_8cpp_a7280506718a3f756efa65e69f3e6a9a0} 
\index{network.cpp@{network.cpp}!save\_NN@{save\_NN}}
\index{save\_NN@{save\_NN}!network.cpp@{network.cpp}}
\doxysubsubsection{\texorpdfstring{save\_NN()}{save\_NN()}}
{\footnotesize\ttfamily void save\+\_\+\+NN (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_n_n}{NN}}}]{to\+\_\+save,  }\item[{std\+::string}]{filename }\end{DoxyParamCaption})}

Сохраняет нейросеть в файл 
\begin{DoxyParams}{Parameters}
{\em index} & -\/ индекс слоя, который нужно напечатать \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/ готовый слой 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00161\ \{}
\DoxyCodeLine{00162\ \ \ \ \ std::ofstream\ out;}
\DoxyCodeLine{00163\ \ \ \ \ out.open(filename);}
\DoxyCodeLine{00164\ \ \ \ \ \textcolor{keywordtype}{int}\ size\ =\ to\_save.\mbox{\hyperlink{class_n_n_abb8d4b6a51ac4a4694e56e3e06925286}{get\_size}}();}
\DoxyCodeLine{00165\ \ \ \ \ out\ <<\ size;}
\DoxyCodeLine{00166\ \ \ \ \ }
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ size;\ ++i)\ }
\DoxyCodeLine{00168\ \ \ \ \ \{}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ std::vector<std::vector<float>>\ weights\ =\ to\_save.\mbox{\hyperlink{class_n_n_a5e1056997df10aeb56cdd4d7315ad65b}{ready\_to\_print\_layer}}(i);}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ out\ <<\ weights.size()\ <<\ \textcolor{charliteral}{'\ '}\ <<\ weights[0].size();}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ weights.size();\ ++i)\ }
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ j\ =\ 0;\ j\ <\ weights[i].size();\ ++j)\ }
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ out\ <<\ weights[i][j]\ <<\ \textcolor{charliteral}{'\ '};}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ out\ <<\ \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ out.close();}
\DoxyCodeLine{00180\ \ \ \ \ \}}
\DoxyCodeLine{00181\ \}}

\end{DoxyCode}
